head	1.3;
access;
symbols;
locks
	rwt5629:1.3; strict;
comment	@# @;


1.3
date	2005.01.08.21.22.09;	author rwt5629;	state Exp;
branches;
next	1.2;

1.2
date	2005.01.08.21.18.57;	author rwt5629;	state Exp;
branches;
next	1.1;

1.1
date	2005.01.08.21.16.49;	author rwt5629;	state Exp;
branches;
next	;


desc
@Calculate minimum number of colors to color a planar graph.
@


1.3
log
@GRRRR TRY. Actually grrr me... Didn't read the specifications fully and outputted the colors incorrectly.
@
text
@/*
 * $Id: GraphColorer.java,v 1.2 2005/01/08 21:18:57 rwt5629 Exp rwt5629 $
 *
 * $Log: GraphColorer.java,v $
 * Revision 1.2  2005/01/08 21:18:57  rwt5629
 * Try didn't like line 68... grrr.
 *
 * Revision 1.1  2005/01/08 21:16:49  rwt5629
 * Initial revision
 *
 *
 */

import java.util.*;

/**
 * GraphColorer.java
 *
 * @@author    Ryan Tenney
 *
 */
public class GraphColorer {

    private DiGraph graph = null;
    private int numColors = 0;

    public GraphColorer( DiGraph graph ) {
        this.graph = graph;
    }

    public void color() {
        Iterator keys = graph.vertexKeys().iterator();
        while ( keys.hasNext() ) {
            graph.addVertex( keys.next(), new Integer( 0 ) );
        }
        keys = null;

        keys = graph.vertexKeys().iterator();
        int nextColor = 1;
        while ( keys.hasNext() ) {
            int c = 1;
            Object vertex = keys.next();
            boolean same = false;

            while ( c < nextColor ) {
                Iterator neighbors = null;
                try {
                    neighbors = 
                        graph.neighborData( vertex ).iterator();
                } catch ( NoSuchVertexException nsvex ) {
                    //cannot occur
                    System.err.println( "Flagrant System Error\r\n" +
                        "NoSuchVertexException" );
                }
                
                same = false;
                while ( neighbors.hasNext() ) {
                    Integer next = (Integer)neighbors.next();
                    same |= ( c == next.intValue() );
                }

                if ( same ) {
                    c++;
                } else {
                    break;
                }
            }

            if ( c == nextColor ) nextColor++;
            
            graph.addVertex( vertex, new Integer( c ) );
        }
        numColors = nextColor - 1;
    }

    public void displayColors() {
        try {
            Iterator keys = graph.vertexKeys().iterator();
            while ( keys.hasNext() ) {
                String key = (String)keys.next();
                Integer data = (Integer)graph.getVertexData( key );
                System.out.println( "Color of " + key + " is "
                    + data.intValue() + "." );
            }
        } catch ( NoSuchVertexException nsvex ) {
            // cannot occur
            System.out.println( "NSVEX" );
        }
    }

    public int getNumColors() {
        return numColors;
    }

}
@


1.2
log
@Try didn't like line 68... grrr.
@
text
@d2 1
a2 1
 * $Id: GraphColorer.java,v 1.1 2005/01/08 21:16:49 rwt5629 Exp rwt5629 $
d5 3
d82 2
a83 1
                System.out.println( key + " " + data.intValue() );
@


1.1
log
@Initial revision
@
text
@d2 5
a6 1
 * $Id$
a7 1
 * $Log$
d68 1
a68 1
            graph.addVertex( vertex, c );
@
